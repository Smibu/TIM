<div style="text-align:left">
    <div class="popUpWindow" ng-if="!qctrl.asked_id"  >
        <form class="createQuestion">
            <div id="question-textarea-div">
                <div>Question:</div>
                <textarea id="question-textarea" name="question" rows="3" ng-model="qctrl.question.questionText" ng-change="qctrl.changeQuestionTitle(qctrl.question.questionText)"></textarea>
            </div>
            <div id="questionName">
                <label>
                    Question title:
                    <input type="text" ng-model="qctrl.question.questionTitle" onfocus="this.select()" ng-change="qctrl.titleIsChanged()" />
                </label>
            </div>

            <div id="qType">
                <label>Question type:
                    <select name="qctrl.question.questionType" ng-model="qctrl.question.questionType" ng-dropdown required
                            ng-change="qctrl.createMatrix(qctrl.question.questionType)">
                        <option value="" ng-option disabled selected> -- select question type --</option>
                        <option ng-option value="radio-vertical">Multiple choice (radio button)</option>
                        <option ng-option value="checkbox-vertical">Multiple choice (checkbox)</option>
                        <option ng-option value="true-false">True/False</option>
                        <option ng-option value="matrix">Many rows and columns</option>
                        <option ng-option value="likert">5 choices likert scale</option>
                        <option ng-option value="textarea">One text area</option>
                    </select>
                </label>
            </div>
            <div id="check" ng-if="qctrl.question.questionType == 'matrix' || qctrl.question.questionType == 'likert'">
                <label>Answer type:</label>
                <select name="answerType" ng-model="qctrl.question.matrixType" ng-dropdown
                        ng-options="item.value as item.label for item in qctrl.answerFieldTypes ">
                    <option value="" disabled selected> -- select answer type --</option>
                </select>
            </div>
            <div ng-if="qctrl.question.questionType" style="overflow-x: auto">
                <tim-question-matrix></tim-question-matrix>
            </div>

            <div id="questionTiming">
                <div><label>Set question timing:</label></div>
                <div id="questionStart">
                    <label>Starting time:</label>
                    <input type="checkbox" ng-model="qctrl.question.startTimeSelected"/>
                    <div class="form-inline">
                        <div class="input-group date" datetimepicker ng-model="qctrl.question.startTime"
                             data-options="dateTimeOptions">
                            <input type="text"
                                   class="form-control"
                                   ng-disabled="!qctrl.question.startTimeSelected"/>
                            <span class="input-group-addon">
                        <span class="glyphicon glyphicon-calendar"></span>
                        </span>
                        </div>
                    </div>
                </div>
                <div id="questionTimer">
                    <label>Duration:</label>
                    <input type="checkbox" ng-model="qctrl.question.endTimeSelected"/>

                    <div id="durationDiv" class="questionTimer">
                        <input id="durationHour" type="text" name="hours" maxlength="2" size="2"
                               ng-model="qctrl.question.timeLimit.hours" ng-disabled="!qctrl.question.endTimeSelected"> h
                        <input id="durationMin" type="text" name="minutes" maxlength="2" size="2"
                               ng-model="qctrl.question.timeLimit.minutes" ng-disabled="!qctrl.question.endTimeSelected"> m
                        <input id="durationSec" type="text" name="seconds" maxlength="2" size="2"
                               ng-model="qctrl.question.timeLimit.seconds" ng-disabled="!qctrl.question.endTimeSelected"> s
                    </div>
                </div>
            </div>
        </form>
        <div class="questionPreview">
            <label>Document question <input type="checkbox" ng-model="qctrl.markup.qst"/></label>
            <dynamic-answer-sheet questiondata="qctrl.previewParams" preview="true"></dynamic-answer-sheet>
        </div>
        <p class="error_message" ng-if="qctrl.error_message.length" ng-bind-html="qctrl.error_message"></p>

        <div class="buttons">
            <span ng-if="(!qctrl.new_question)"> <button class="btn btn-danger" ng-click="qctrl.deleteQuestion()">Delete</button> </span>
            <button class="timButton" ng-if="lctrl.lectureSettings.inLecture" ng-click="qctrl.createQuestion(true)" title="Ctrl-R">Save and ask
            </button>
            <button class="timButton" ng-click="qctrl.createQuestion()" title="Ctrl-S">Save</button>
            <button class="timButton" ng-click="qctrl.dismiss()">Cancel</button>
        </div>
    </div>
    <div class="popUpWindow" ng-if="qctrl.asked_id">
        <form class="createQuestion">
            <!-- <h5 >{{ qctrl.question.questionText }}</h5> -->
            <h5 ng-bind-html="qctrl.question.questionText"></h5>
            <!--
            <h3>Question title: {{ qctrl.question.title }}</h3>
            <h3>Question title: {{ qctrl.question.questionText }}</h3>

            <p>Question type: {{ qctrl.question.questionType }}</p>

            <p ng-if="qctrl.question.questionType == 'matrix'">Answer type: {{ qctrl.question.matrixType }} </p>
            -->
            <div ng-if="qctrl.question.questionType" style="overflow-x: auto">
                <tim-question-matrix></tim-question-matrix>
            </div>
            <p class="error_message" ng-if="qctrl.error_message.length" ng-bind-html="qctrl.error_message"></p>

            <div class="buttons">
                <button class="timButton" ng-if="!qctrl.asked_id" ng-if="lctrl.lectureSettings.inLecture"
                        ng-click="qctrl.createQuestion(true)" title="Ctrl-R">Save and ask
                </button>
                <button class="timButton" ng-click="qctrl.createQuestion()"  title="Ctrl-S" >Save</button>
                <button class="timButton" ng-click="qctrl.dismiss()">Cancel</button>
                <span ng-if="(qctrl.question.question_id)"> <button class="btn btn-danger" ng-click="qctrl.deleteQuestion()">Delete</button> </span>
            </div>
        </form>
    </div>
</div>
