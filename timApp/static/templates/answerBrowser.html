<div class="answerBrowser" ng-cloak>
    <select ng-show="$parent.teacherMode && users.length > 0" ng-model="user"
            ng-options="(user.real_name + ' (' + user.name + ')') for user in users track by user.id"
            ng-change="getAvailableAnswers()"></select>
    <span ng-show="answers.length > 0 && !changed">
    <button ng-click="previous()">&larr;</button>
    <select ng-model="selectedAnswer"
            ng-options="((filteredAnswers.length - idx) + '. ' + answer.answered_on) for (idx, answer) in filteredAnswers track by answer.id"
            ng-change="changeAnswer()"></select>
    <button ng-click="next()">&rarr;</button>
    {{ filteredAnswers.length - filteredAnswers.indexOf(selectedAnswer) }}/<a ng-click="setNewest()">{{ filteredAnswers.length }}</a>
    <label ng-show="anyInvalid"><input type="checkbox" ng-model="onlyValid">Show valid only</label>
    <span ng-show="$parent.teacherMode" > | <a href="{{getLink()}}" ng-mousedown="getAllAnswers()" >All answers</a></span>
    <br> 
    <label ng-show="$parent.teacherMode">Points:<input ng-model="points" type="text"></label>
    <span ng-show="!$parent.teacherMode && points !== null">Points: {{ points }}</span>
    <span ng-show="taskInfo.maxPoints && points !== null">/ {{ taskInfo.maxPoints }}</span>
    <span ng-show="!selectedAnswer.valid">(invalid)</span>
    <label ng-show="$parent.teacherMode">
        <input type="checkbox" ng-model="saveTeacher">Save teacher's fix
    </label>
    </span>
    <div ng-show="selectedAnswer.collaborators.length > 1 && !changed">
        Collaborators:
        <ul>
            <li ng-repeat="c in selectedAnswer.collaborators">{{ c.real_name }}</li>
        </ul>
    </div>
    <span ng-show="$parent.teacherMode && changed && !firstLoad">(hover/click to update)</span>
    <span ng-show="!changed && answers.length == 0 && $parent.teacherMode">(no answers)</span>
    <!-- <img style="display: inline" src="/static/images/loading.gif" ng-show="loading"> -->
</div>
