<div id="matrix" class="matrix">
    <div class="questionTable">
        <table class="table" id="question-table">
            <thead>
            <tr ng-show="qctrl.question.type == 'matrix' || qctrl.question.type == 'true-false' ">
                <th class="emptyBlock"></th>

                <!--<th ng-show="qctrl.question.type == 'true-false'" class="true-false-title">True</th>
                <th ng-show="qctrl.question.type == 'true-false'" class="true-false-title">False</th>-->

                <!--<th ng-repeat="item in columnHeaders" ng-if="qctrl.question.type == 'matrix' || qctrl.question.type == 'true-false' " id="row-heading">-->
                <th ng-if="qctrl.asked_id" ng-repeat="item in qctrl.columnHeaders"  id="row-heading" ng-bind-html="qctrl.columnHeaders[$index].text">
                <th ng-if="!qctrl.asked_id" ng-repeat="item in qctrl.columnHeaders"  id="row-heading">
                    <!-- {{ asked_id !== false ? columnHeaders[$index].text : "" }} -->
                    <div style="position: relative" ng-if="!qctrl.asked_id">
                    <div class="cart">
                        <textarea class="rowHeading" form="question-form" rows="1" cols="10"
                                  ng-model="qctrl.columnHeaders[$index].text"></textarea>
                        <br/>
                    </div>
                    <div class="buttonsTop" ng-if ="qctrl.question.type != 'true-false'">
                        <button class="timButton btn-xs" tabindex="-1" ng-click="qctrl.addCol($index)"><span class="glyphicon glyphicon-plus"></span></button>
                        <button class="timButton btn-xs btn-danger" tabindex="-1" ng-click="qctrl.delCol($index)"><span class="glyphicon glyphicon-minus"></span></button>
                    </div>
                    </div>
                </th>
                <th ng-if="(qctrl.question.type == 'matrix' ) && !qctrl.asked_id">
                    <button class="wideButton" ng-click="qctrl.addCol(-1)"><span class="glyphicon glyphicon-plus"></span></button>
                </th>

            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="row in qctrl.rows">
                <th ng-if="qctrl.asked_id" id="left-question-row-heading" ng-bind-html="row.text">
                <th ng-if="!qctrl.asked_id" id="left-question-row-heading">
                    <!--{{ asked_id !== false ? row.text : "" }} -->
                    <div style="position: relative" ng-if="qctrl.asked_id === false">
                    <textarea class="rowHeading questiontext" ng-model="row.text" form="question-form" rows="1"  id = "{{ 'r'+row.id }}"></textarea>
                    <div class="matrixButtons">
                        <button class="timButton btn-xs btn-block" tabindex="-1" ng-click="qctrl.addRow($index)"><span class="glyphicon glyphicon-plus"></span></button>
                        <button class="btn btn-danger btn-xs btn-block" tabindex="-1" ng-click="qctrl.delRow($index)" style="margin-top: 13px;"><span class="glyphicon glyphicon-minus"></span></button>
                    </div>
                    </div>
                </th>
                <td ng-repeat="column in row.columns" class="answer-columns">
                    <!-- Horizontal radio-button-->
                    <div ng-if="(qctrl.question.matrixType == 'radiobutton-horizontal' && qctrl.question.type=='matrix') || qctrl.question.type == 'true-false' ">
                        <!-- ng-model="row.id" -->
                        <div><input type="radio"
                               ng-value="column.id"
                               placeholder=""
                               disabled/></div>
                        <div><input type="text"
                               size="2"
                               placeholder="pts"
                               ng-model="column.points" /></div>
                    </div>
                    <!-- Vertical radio-button -->
                    <div ng-if="qctrl.question.type != 'true-false'">
                        <div ng-if="(qctrl.question.matrixType == 'radiobutton-vertical' && qctrl.question.type=='matrix') || qctrl.question.type == 'radio-vertical'">
                            <div><input type="radio"
                                   name="column.rowId"
                                   ng-value="column.id"
                                   placeholder=""
                                    disabled/></div>
                            <div><input type="text"
                                   size="2"
                                   placeholder="pts"
                                   ng-model="column.points"/></div>
                        </div>
                        <!-- Text area-->
                        <div ng-if="qctrl.question.type != 'radio-button'">
                            <textarea ng-if="qctrl.question.matrixType == 'textArea' && qctrl.question.type=='matrix'"
                                      type="text"
                                      placeholder=""
                                      id="matrix-textarea"
                                    disabled></textarea>
                            <!-- Checkbox-->
                            <div ng-if="(qctrl.question.matrixType == 'checkbox' && qctrl.question.type=='matrix') || qctrl.question.type=='checkbox-vertical'">
                                <div><input type="checkbox"
                                       ng-model="row.id"
                                        disabled/></div>
                                <div><input type="text"
                                       size="2"
                                       placeholder="pts"
                                       ng-model="column.points"/></div>
                            </div>
                        </div>
                    </div>
                </td>
                <td ng-class="['explField', row.expl ? 'hasText' : '']">
                    <textarea placeholder="Optional: Explain why answer is right/wrong" class="rowHeading"
                              ng-focus="qctrl.explFocus($event)" ng-blur="qctrl.explBlur($event)" ng-model="row.expl"
                              form="question-form" rows="1"></textarea>
                </td>
                <!-- ADD COMMENTS FIELD HERE. Appropriate edits need to be done to questionjson at ViewCtrl and then displaying them at directives/dynamicanswersheet.js -->
            </tr>
            <tr ng-if="qctrl.asked_id === false">
                <th>
                    <div>
                        <button class="wideButton" ng-click="qctrl.addRow(-1)"><span class="glyphicon glyphicon-plus"></span></button>
                    </div>
                </th>
            </tr>
            </tbody>
        </table>
    </div>
</div>
