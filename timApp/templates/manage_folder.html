{% extends 'manage.html' %}
{% set obj_name = 'folder' %}
{% block managecontent %}
    {% if item.rights.manage %}
    <div class="panel panel-default">
        <div class="panel-heading">Short name and location</div>
        <div class="panel-body">
            <form name="folderForm">
                <div class="form-group" tim-error-state data-for="folderForm.newName">
                    <label for="newName" class="control-label">Short name:</label>
                    <div class="input-group">
                        <input name="newName" class="form-control" required tim-short-name id="newName" type="text" ng-model="newName">
                        <span class="input-group-btn">
                            <button ng-click="renameFolder(newName)" class="timButton"
                                    ng-disabled="newName === oldName || folderForm.newName.$invalid">
                            Update
                        </button>
                        </span>
                    </div>
                    <tim-error-message for="folderForm.newName"></tim-error-message>
                </div>
                <div class="form-group" tim-error-state data-for="folderForm.newLocation">
                    <label for="newFolderName" class="control-label">Location:</label>
                    <div class="input-group">
                        <input name="newLocation" class="form-control" tim-location id="newFolderName" type="text"
                                                  ng-model="newFolderName">
                        <span class="input-group-btn">
                            <button ng-click="moveFolder(newFolderName)" class="timButton"
                                ng-disabled="newFolderName === oldFolderName || folderForm.newLocation.$invalid">Update
                        </button>
                        </span>
                    </div>
                    <tim-error-message for="folderForm.newLocation"></tim-error-message>
                </div>
            </form>
        </div>
    </div>
    <bootstrap-panel show-close="false" title="Copy contents">
        <tim-copy-folder item="item"></tim-copy-folder>
    </bootstrap-panel>
    <div class="panel panel-default">
        <div class="panel-heading">Other actions</div>
        <div class="panel-body">
            <button class="btn btn-danger" ng-click="deleteFolder(item.id)">Delete folder</button>
        </div>
    </div>
    {% elif not item.rights.editable %}
        There is currently nothing to manage here.
    {% endif %}
{% endblock %}
