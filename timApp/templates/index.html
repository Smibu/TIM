<!DOCTYPE html>
<html lang="en">
<head>
<title>TIM</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<script
    src="{{url_for('static', filename='scripts/jquery-1.11.1.min.js')}}"></script>
<script
    src="{{url_for('static', filename='scripts/angular-1.2.9/angular.js')}}"></script>
<link rel="stylesheet"
    href="{{url_for('static', filename='stylesheet.css')}}">
<link
    href="{{url_for('static', filename='bootstrap/css/bootstrap.css')}}">
<link
    href="{{url_for('static', filename='bootstrap/css/bootstrap-theme.css')}}">
<script
    src="{{url_for('static', filename='scripts/indexView/indexController.js')}}"></script>
<script src="{{url_for('static', filename='scripts/showdown.js')}}"></script>
<script type="text/javascript"
    src="{{url_for('static', filename='scripts/angular-sanitize.js')}}"></script>

<script type="text/javascript"
    src="{{url_for('static', filename='scripts/indexView/indexApp.js')}}"></script>

<!--[if lt IE 9]>
        <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

</head>
<style type="text/css">
table {
    margin: 1em;
}

thead {
    font-weight: bold;
}

table td {
	padding: 0.2em;
}
</style>
<body style="background-color: #CCFFFF" ng-app="indexApp"
    ng-controller="IndexCtrl">
    <div class="material">
        <div style="padding: 5px 5px 5px 5px;">
            <span ng-show="displayIndex">&nbsp;&nbsp; Welcome!
                Start by choosing a document to view: </span> <img
                src="{{url_for('static', filename='images/loading.gif')}}"
                ng-show="!displayIndex">
            <table ng-show="displayIndex">
                <thead>
                    <tr>
                        <td>Document name</td>
                        <td></td>
                        <td></td>
                        <td>Last modified</td>
                    </tr>
                </thead>
                <tr ng-repeat="doc in documentList">
                    <td>{{ '{{ doc.name }}' }}</td>
                    <td><a href="/documents/{{ '{{ doc.id }}' }}">Edit</a></td>
                    <td><a href="/view/{{ '{{ doc.id }}' }}">View</a></td>
                    <td>{{ '{{ doc.versions[0].timestamp }}' }}</td>
                </tr>
            </table>
            <a ng-show="!showControls && displayIndex"
                ng-click="showControls = true">Create a new document</a>
            <div ng-show="showControls">
                <label>Document name: <input ng-model="docName"
                    type="text">
                </label> <input ng-disabled="!docName"
                    ng-click="createDocument(docName)" type="button"
                    value="Create"> <input
                    ng-click="showControls = false" type="button"
                    value="Cancel">
            </div>
        </div>
    </div>
</body>
</html>
