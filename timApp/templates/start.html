{% extends 'base.html' %}
{% block title %}Welcome{% endblock %}
{% block head %}
    {{ super() }}
{% endblock %}

{% block mainctrl %}tim-start{% endblock %}

{% block content %}
    <div class="row">
        <div ng-switch="$ctrl.language" ng-cloak class="pull-right">
            <div ng-switch-when="en">
                <button class="timButton" ng-click="$ctrl.changeLanguage('fi')"
                        title="Vaihda sivun kieli suomeksi">Suomeksi</button>
            </div>
            <div ng-switch-when="fi">
                <button class="timButton" ng-click="$ctrl.changeLanguage('en')"
                title="Change page language to English">In English</button>
            </div>
        </div>
        <h1 class="text-center">TIM - The Interactive Material</h1>
    </div>
    <div class="row">
        <div class="col-md-8 col-md-offset-2">
            <div class="row">
                <div class="col-md-8">
                    <bookmark-folder-box bookmarks="{{bookmarks}}" bookmark-folder-name="My courses">
                    </bookmark-folder-box>
                    <a href="/view/tim/TIM-esittely">
                        <img class="img-responsive" src="{{ url_for('static', filename='images/responsive.jpg') }}"/>
                    </a>
                </div>
                <div class="col-md-4">
                    {% if session.user_id %}
                        <h3>Get started</h3>
                        <ul class="list-unstyled">
                            <li class="h5"><a href="/view/{{ current_user.get_personal_folder().path }}">My documents</a></li>
                            <li class="h5"><a ng-click="$ctrl.openCourseListDialog()" href="#">Available courses</a></li>
                            <li class="h5"><a href="/view/">All documents</a></li>
                            <li class="h5"><a ng-click="$ctrl.enableCreate()" href="#">Create a new document</a></li>
                        </ul>
                        <bootstrap-panel ng-if="$ctrl.creatingNew"
                                         title="Create a new document"
                                         show-close="true"
                                         close-fn="$ctrl.cancelCreate()">
                            <create-item item-title="My document"
                                         item-location="{{ current_user.get_personal_folder().path }}"
                                         item-type="document">
                            </create-item>
                        </bootstrap-panel>
                    {% else %}
                    <div ng-switch="$ctrl.language" ng-cloak>
                        <div ng-switch-when="en">
                            <h3>Get started</h3>
                            <p>To log in or sign up, use the "Log in" button at the top.</p>
                            <ul class="list-unstyled">
                                <li><a href="/view/">Browse all documents</a></li>
                                <li><a ng-click="$ctrl.openCourseListDialog()" href="#">Available courses</a></li>
                            </ul>
                        </div>
                        <div ng-switch-when="fi">
                            <h3>Aloitus</h3>
                            <p>Kirjautuaksesi sisään käytä "Log in" -painiketta sivun ylälaidassa.</p>
                            <ul class="list-unstyled">
                                <li><a href="/view/">Selaa dokumentteja</a></li>
                                <li><a ng-click="$ctrl.openCourseListDialog()" href="#">Saatavilla olevat kurssit</a></li>
                            </ul>
                        </div>
                    </div>
                    {% endif %}
                </div>
            </div>
            <div ng-switch="$ctrl.language" ng-cloak>
                <div ng-switch-when="en">
                    <div class="row">
                        <div class="col-md-4 col-md-offset-2">
                            <h4>TIM</h4>
                            <ul class="list-unstyled">
                                <li><a href="/view/tim/TIM-esittely">Introduction</a> <sup>(F)</sup></li>
                                <li><a href="/view/tim/TIM-ohjeet">User guide</a> <sup>(F)</sup></li>
                            </ul>
                        </div>
                        <div class="col-md-4">
                            <h4>Examples <sup>(F)</sup></h4>
                            <ul class="list-unstyled">
                                <li><a href="/view/tim/Esimerkkeja-TIMin-mahdollisuuksista">TIM's possibilities</a></li>
                                <li><a href="/view/tim/Eri-ohjelmointikielia">Programming languages</a> <sup>(*)</sup></li>
                                <li><a href="/view/tim/muita-esimerkkeja">Usage in different subjects</a> <sup>(*)</sup></li>
                            </ul>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-4 col-md-offset-4 text-muted text-center">
                            <sup>(*)</sup> requires login
                            <br>
                            <sup>(F)</sup> in Finnish
                        </div>
                    </div>
                </div>
                <div ng-switch-when="fi">
                    <div class="row">
                        <div class="col-md-4 col-md-offset-2">
                            <h4>TIM</h4>
                            <ul class="list-unstyled">
                                <li><a href="/view/tim/TIM-esittely">Esittely</a></li>
                                <li><a href="/view/tim/TIM-ohjeet">Ohjeet</a></li>
                            </ul>
                        </div>
                        <div class="col-md-4">
                            <h4>Esimerkkejä</h4>
                            <ul class="list-unstyled">
                                <li><a href="/view/tim/Esimerkkeja-TIMin-mahdollisuuksista">TIMin mahdollisuuksia</a></li>
                                <li><a href="/view/tim/Eri-ohjelmointikielia">Ohjelmointikieliä</a> <sup>(*)</sup></li>
                                <li><a href="/view/tim/muita-esimerkkeja">Käyttö eri oppiaineissa</a> <sup>(*)</sup></li>
                            </ul>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-4 col-md-offset-4 text-muted text-center">
                            <sup>(*)</sup> vaatii kirjautumisen
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
