<!doctype html>

<html ng-app>
<head>
  <meta charset="utf-8">
 <script src= "http://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
  <title>Kokeilu form</title>
  <meta name="description" content="The HTML5 Herald">
  <meta name="author" content="SitePoint">

  <link rel="stylesheet" href="style.css?v=1.0">
</head>

<body>
<div>
	<form class="basic-grey">
		<fieldset>
			<label>Kysymys:</label>
			<textarea name="kysymys" rows="1" cols="100">
			</textarea>
			<br>
			<label>Kysymystyyppi:</label>
			<select name="tyyppi" ng-model="question.type" ng-dropdown required>
				<option value="" ng-option disabled selected> -- select question type -- </option>
				<option ng-option value="matriisi">Matriisi</option>
				<option ng-option value="monivalinta">Monivalinta</option>
			</select>
			
			<br>
			
			<div id="check" ng-if="question.type == 'matriisi'">
			<label>Vastaustyyppi:</label>
			<select name="vtyyppi">
				<option disabled > -- select answer type -- </option>
				<option value="radiobutton">Radiopainike</option>
				<option value="vapaakenttä">Vapaakenttä</option>
				<option value="checkbox">Checkbox</option>
			</select>
			</div>
			
			<div id="check" ng-if="question.type == 'monivalinta'">
			<label>Vastaustyyppi:</label>
			<select name="vtyyppi">
				<option disabled > -- select answer type -- </option>			
				<option value="checkbox">Checkbox</option>
				<option value="radiobutton">Radiopainike</option>
			</select>
			</div>
			
			<br><br>
		<div ng-controller="Test">
		
		 <!--Add inputs to columns-->  
		<span ng-if="question.type == 'matriisi'" ng-repeat="item in columns">
			<span>
				<input type="template" placeholder="{{item.questionPlaceholder}}" ng-model="item.question" />				  
			</span>
		</span>    		
		<button ng-click="addColumn()" ng-if="question.type == 'matriisi'">+</button>		
		
		<!--Add inputs to rows-->  
		<span ng-if="question.type == 'matriisi'" ng-repeat="item in rows">
			<span>
				<input type="template" placeholder="{{item.questionPlaceholder}}" ng-model="item.question" />
			</span>					
		</span>
		<br>
		<button ng-click="addRows()" ng-if="question.type == 'matriisi'">add_row</button>
		</div>
		
	<br>
	<br>
			<label>Vastausvaihtoehdot:</label><br>
			<label>Vastausaika:</label>
			<input type="radio" name="vastausaika" value="0">Ei 
			<input type="radio" name="vastausaika" value=""><input type=text" size="3">
			</select>
			<br>
			

   
			<br>
			<input type="button" class="button" value="Submit">
		</fieldset>
	</form>
</div>


 <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.13/angular.min.js"></script>
    <script type="text/javascript">

      var Test = function($scope){
        $scope.columns = [{text:'test', questionPlaceholder:'123'}];
		$scope.rows = [];
		
        
        $scope.addColumn = function () {
          $scope.columns.push({question: "foo", questionPlaceholder: "bar", text: "" });
        };
		
		$scope.addRows = function () {
		for (var i in $scope.columns) { 
  $scope.rows.push({question: "foo",questionPlaceholder: "bar", text: ""});
}
          
		  
        };
      }

    </script>
</body>
</html>